<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<link rel="stylesheet" type="text/css" href="css/styles.css">
		<title>AJAX 1 - Text File</title>
	</head>

	<body>
		<button id="button">Get text file</button>

		<div id="text"></div> 
		
		<script>
			//Create event listener
			document.getElementById("button").addEventListener("click", loadText);

			function loadText() {
				//Create XHR object
				let xhr = new XMLHttpRequest();
				
				// Open - type, url/file, async
				xhr.open("GET", "sample.txt", true);

				xhr.onload = function() {	
					
					if(this.status == 200) {
						//console.log(this.responseText);
						document.getElementById('text').innerHTML = this.responseText;		 
					} 
					else if(this.status == 404) {
						document.getElementById('text').innerHTML = "Not Found";
					}
				}

				//In case something goes wrong, it'll be handled
				xhr.onerror = function() {
					console.log('Request Error...');
				}

				//Sends request
				xhr.send();
			}
		</script>
	</body>
</html>
